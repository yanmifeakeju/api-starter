FROM node:18.17.1-bullseye-slim

ENV PNPM_HOME="/pnpm"
ENV PATH="$PNPM_HOME:$PATH"
RUN corepack enable

EXPOSE 8080

WORKDIR /app

COPY package.json pnpm-lock.yaml tsconfig.*  /app/
RUN pnpm install

COPY . /app
RUN pnpm run build


CMD [ "pnpm", "start:api" ]



